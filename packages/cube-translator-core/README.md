# Cube Translator

## 技术难点

#### 实现 Figma 原生特性的支持

Figma 目前可支持的有文本节点、图形节点和特殊动画节点，为使翻译功能能够充分地被用户发挥，需要实现与这些节点适配的解决方案。Cube Translator 需要调用外部服务（如 Google Translate、有道翻译等）提供的文本翻译服务，而这一过程又必须考虑如安全性、性能等方面的问题，这会给开发人员带来一些挑战。由于不同的翻译引擎有不同的功能特性，因此在设计 Cube Translator 时，要为用户提供多种翻译引擎的可选支持，以满足用户语言翻译和细节调整上的需求。

#### 翻译质量

因为翻译的文本涉及多种不同的语言，因此要确保翻译的质量；

#### 查找算法和位置计算

翻译时，要快速有效地查找到最合适的单词或句子，以最短的时间完成任务；翻译后生成新的 Frame 需要根据原 Frame 的位置计算出新的 Frame 的位置，确保不出现 Frame 重叠等问题

#### 用户交互

Cube Translator 要能够有效地与用户进行交互，从用户的角度考虑，提供快速准确的翻译服务。构建出动态，可视化的翻译流程，以及提供整洁简洁、形象明了的界面设计，以保留用户得到 Figma 翻译插件的愉悦体验。

#### 可扩展性

Cube Translator 对于可扩展性要求也是比较高的，因为它要支持不断增加的语言类型和不同的翻译模式，因此，需要考虑升级及扩展等问题，以保证翻译系统的正确性及易用性。

#### 翻译性能

在翻译功能提供过程中，要做好性能优化，确保翻译过程的流畅性，以期用户可以轻松高效地实现其内容的翻译和调整；插件程序包的优化，以减少安装过程的时间；件要尽可能低的占用用户的内存，避免对用户的使用造成不便；

### 实时翻译

Cube Translator 实时翻译需要将翻译文本以及翻译结果的结构化数据存储在服务器，并传输到浏览器和桌面客户端上；需要实时翻译输入的文本，这就要求能够快速响应用户的输入并翻译出准确的结果，所以翻译插件的实现要考虑实时翻译问题，即在短时间内翻译完毕，给用户正确、精准的翻译结果。

### 人工翻译

首先，需要提取 frame 中的每个属性，包括 frame 的尺寸、颜色、层级、纹理等信息，以及每个 frame 中的图像、文本、控件等内容，然后需要获取每个属性值，将这些数据汇总和整合到 Excel 中，以便于之后进行分析。
另外，因为 Figma 中支持各种图层组，在导出 frame 到 Excel 时，需要区分图层组，以便把合适的数据放入到正确的 Excel 单元格中，以及处理 Figma 中的重复图层，以便正确提取每个图层的属性值。此外，还需要考虑兼容性的问题，确保插件的兼容性，以免造成冲突。
识别 Frame 元素关系: 要将 Figma 中的 Frame 导出到 Excel 中，首先要建立 Frame 元素之间的关系，这需要编写算法和算法逻辑来分析画板中的元素的位置、尺寸等信息，建立 Frame 复杂的结构关系。
需要处理大量原文和参考文本，以准确地进行翻译，以保持本地化和正确性。
当识别出 Frame 元素关系以后，程序需要建立多种形式来存储 Frame 元素。由于 Figma Frame 中每一个元素都可以具有多种属性，因此必须考虑如何更好地存储这些信息，使得回收分析更加方便和高效。
除上述的技术难点外，还要考虑 Excel 表格的整理问题，重新组织各个 Frame 元素的属性样式，以及将抽取出的 Frame 信息按照 Excel 表格的适当的数据结构进行整理，从而实现数据的高效展示。
